# 关于进程同步
### 整形信号量
### 记录型信号量 对于申请单一的临界资源可以使用，如果同时使用多个临界资源则使用AND信号量
### AND型信号量 将进程所需的资源一次全部分配给进程（如果资源够）
### 信号量集 相比于上述将临界资源视为 1 个的情况，如果同一临界资源需要申请多个，则需要信号量集的机制(S, t, d)
S表示资源，t为分配下限，d为实际申请数量，也是一次全部分配的原则，以避免死锁

## 信号量机制的问题
### 生产者-消费者 问题
可以使用记录型和AND型信号量
### 哲学家进餐
使用记录型会发生死锁，使用AND型让进程同时申请左右两只手的筷子资源，以避免死锁

# 关于进程通信

## 共享存储器系统
### 基于共享数据结构的通信

### 基于共享存储区的通信
系统会划分出一块内存区域用于进程间的共享
进程先向系统申请```共享存储区```的一个分区，并将其附加到自己的地址空间中，使用完成后归还给```共享存储区```


## 管道通信系统

## 消息传递系统
### 直接消息传递系统
OS提供了直接消息通信的原语，分为
对称寻址方式：需要提供进程的标识符
```C++
send(receiver, message);
receive(sender, message)
```

非对称寻址方式：如 1 对 多 的消息通信
```C++
send(P_receiver, message)
receive(id, message) id 可以表示发送发的进程id或者名字

```

### 信箱通信

# 线程与进程的比较

## 线程是调度的基本单位
## 线程具有并发性
## 线程拥有的资源
进程是拥有资源的基本单位，而线程也需要有自己的资源
如：线程控制块TCB、程序计数器、局部变量、状态参数、返回地址等的一组寄存器和堆栈
多个线程共享该进程所拥有的的资源

## 独立性
线程的独立性比进程差，如一个线程的堆栈可以被同一进程的其他线程读写修改，清除。 
